<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Operações & Riscos — Central de Ajuda</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Tailwind (CDN para teste/local). Para produção, use build otimizado. -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #0f172a 0, #020617 40%, #000 100%);
      color: #e5e7eb;
    }

    .glass {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 1.25rem;
      border: 1px solid rgba(148, 163, 184, 0.2);
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.8),
        0 0 0 1px rgba(15, 23, 42, 0.7);
      backdrop-filter: blur(22px);
    }

    .tab-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      padding: 0.45rem 0.9rem;
      border-radius: 9999px;
      font-size: 0.8rem;
      font-weight: 500;
      color: #9ca3af;
      border: 1px solid transparent;
      cursor: pointer;
      transition:
        color 0.15s ease,
        background-color 0.15s ease,
        border-color 0.15s ease,
        transform 0.1s ease;
    }

    .tab-btn span.badge {
      font-size: 0.7rem;
      border-radius: 9999px;
      padding: 0.12rem 0.45rem;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(55, 65, 81, 0.9);
      color: #9ca3af;
    }

    .tab-btn:hover {
      color: #e5e7eb;
      border-color: rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.12), rgba(15, 23, 42, 0.85));
      transform: translateY(-1px);
    }

    .tab-btn.active {
      color: #e5e7eb;
      border-color: rgba(56, 189, 248, 0.9);
      background:
        linear-gradient(to right, rgba(56, 189, 248, 0.16), rgba(129, 140, 248, 0.17)),
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.5), rgba(15, 23, 42, 0.85));
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.35),
        0 12px 40px rgba(15, 23, 42, 0.9);
      transform: translateY(-1px);
    }

    .pill {
      border-radius: 9999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      padding: 0.2rem 0.75rem;
      font-size: 0.75rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.1), rgba(15, 23, 42, 0.9));
    }

    .tag {
      font-size: 0.7rem;
      border-radius: 9999px;
      padding: 0.12rem 0.6rem;
      background: rgba(15, 23, 42, 0.88);
      border: 1px solid rgba(75, 85, 99, 0.8);
      color: #9ca3af;
    }

    .topic-pill {
      border-radius: 9999px;
      padding: 0.35rem 0.85rem;
      font-size: 0.78rem;
      font-weight: 500;
      border: 1px solid transparent;
      color: #9ca3af;
      background: rgba(15, 23, 42, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
      transition:
        background-color 0.15s ease,
        color 0.15s ease,
        border-color 0.15s ease,
        transform 0.1s ease;
    }

    .topic-pill:hover {
      background: rgba(31, 41, 55, 0.95);
      color: #e5e7eb;
      transform: translateY(-0.5px);
    }

    .topic-pill.active {
      border-color: rgba(52, 211, 153, 0.9);
      background: radial-gradient(circle at top left, rgba(16, 185, 129, 0.3), rgba(17, 24, 39, 0.96));
      color: #ecfdf5;
      box-shadow:
        0 0 0 1px rgba(16, 185, 129, 0.28),
        0 10px 30px rgba(6, 95, 70, 0.6);
      transform: translateY(-0.5px);
    }

    .guide-card {
      border-radius: 1rem;
      border: 1px solid rgba(31, 41, 55, 0.95);
      background:
        radial-gradient(circle at top left, rgba(56, 189, 248, 0.09), rgba(15, 23, 42, 0.98));
      padding: 1rem;
      transition:
        border-color 0.18s ease,
        box-shadow 0.18s ease,
        transform 0.12s ease,
        background-color 0.18s ease;
      cursor: pointer;
    }

    .guide-card:hover {
      border-color: rgba(59, 130, 246, 0.8);
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(37, 99, 235, 0.4);
      transform: translateY(-2px);
      background:
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.1), rgba(15, 23, 42, 1));
    }

    .guide-step {
      border-radius: 0.9rem;
      border: 1px solid rgba(31, 41, 55, 0.9);
      padding: 0.85rem 1rem;
      background: rgba(15, 23, 42, 0.96);
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      transition:
        border-color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease;
    }

    .guide-step:hover {
      border-color: rgba(56, 189, 248, 0.7);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.08), rgba(15, 23, 42, 0.98));
      transform: translateY(-1px);
    }

    .input-base {
      border-radius: 0.7rem;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.95);
      padding: 0.55rem 0.75rem;
      font-size: 0.82rem;
      color: #e5e7eb;
      width: 100%;
      outline: none !important;
      transition:
        border-color 0.16s ease,
        box-shadow 0.16s ease,
        background-color 0.16s ease;
    }

    .input-base::placeholder {
      color: #6b7280;
    }

    .input-base:focus {
      border-color: rgba(56, 189, 248, 0.95);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.6);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 1));
    }

    .btn-ghost {
      border-radius: 9999px;
      border: 1px solid rgba(55, 65, 81, 0.85);
      padding: 0.4rem 0.9rem;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      color: #9ca3af;
      background: rgba(15, 23, 42, 0.9);
      cursor: pointer;
      transition:
        border-color 0.15s ease,
        background-color 0.15s ease,
        color 0.15s ease,
        transform 0.1s ease;
    }

    .btn-ghost:hover {
      border-color: rgba(59, 130, 246, 0.8);
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.18), rgba(17, 24, 39, 0.96));
      color: #e5e7eb;
      transform: translateY(-1px);
    }

    .btn-primary {
      border-radius: 9999px;
      border: none;
      padding: 0.55rem 1.15rem;
      font-size: 0.82rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      color: #0b1120;
      background: linear-gradient(to right, #22c55e, #a3e635);
      box-shadow:
        0 16px 35px rgba(21, 128, 61, 0.45),
        0 0 0 1px rgba(21, 128, 61, 0.4);
      cursor: pointer;
      transition:
        transform 0.1s ease,
        box-shadow 0.15s ease,
        filter 0.15s ease;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow:
        0 20px 40px rgba(22, 163, 74, 0.6),
        0 0 0 1px rgba(21, 128, 61, 0.45);
    }

    .btn-primary:active {
      transform: translateY(0);
      box-shadow:
        0 10px 22px rgba(22, 163, 74, 0.55),
        0 0 0 1px rgba(21, 128, 61, 0.4);
    }

    .badge-pill {
      border-radius: 9999px;
      padding: 0.12rem 0.6rem;
      font-size: 0.7rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.96);
      color: #9ca3af;
    }

    .scroll-smooth {
      scroll-behavior: smooth;
    }

    .scrollbar-thin::-webkit-scrollbar {
      height: 6px;
      width: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: rgba(75, 85, 99, 0.7);
      border-radius: 9999px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
      background-color: transparent;
    }

    .topic-tag-dot {
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 9999px;
      background: linear-gradient(135deg, #22c55e, #22d3ee);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.3);
    }

    .kbd {
      border-radius: 0.5rem;
      background: rgba(15, 23, 42, 0.9);
      padding: 0.05rem 0.4rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.7rem;
      color: #9ca3af;
    }

    .link-pill {
      border-radius: 9999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.25rem 0.7rem;
      font-size: 0.75rem;
      color: #9ca3af;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      background: rgba(15, 23, 42, 0.96);
      transition:
        border-color 0.15s ease,
        color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease;
    }

    .link-pill:hover {
      border-color: rgba(59, 130, 246, 0.9);
      color: #e5e7eb;
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.2), rgba(15, 23, 42, 1));
      transform: translateY(-1px);
    }

    .status-dot {
      width: 0.55rem;
      height: 0.55rem;
      border-radius: 9999px;
    }

    .status-dot-ok {
      background: radial-gradient(circle at center, #22c55e, #14532d);
      box-shadow:
        0 0 0 1px rgba(34, 197, 94, 0.4),
        0 0 15px rgba(34, 197, 94, 0.7);
    }

    .status-dot-warn {
      background: radial-gradient(circle at center, #eab308, #713f12);
      box-shadow:
        0 0 0 1px rgba(234, 179, 8, 0.4),
        0 0 15px rgba(234, 179, 8, 0.7);
    }

    .status-dot-busy {
      background: radial-gradient(circle at center, #f97316, #7c2d12);
      box-shadow:
        0 0 0 1px rgba(249, 115, 22, 0.4),
        0 0 15px rgba(249, 115, 22, 0.7);
    }

    .status-dot-off {
      background: radial-gradient(circle at center, #6b7280, #020617);
      box-shadow:
        0 0 0 1px rgba(107, 114, 128, 0.4),
        0 0 8px rgba(15, 23, 42, 0.9);
    }

    .search-result-card {
      border-radius: 0.9rem;
      border: 1px solid rgba(31, 41, 55, 0.95);
      padding: 0.75rem 0.9rem;
      background: rgba(15, 23, 42, 0.98);
      transition:
        border-color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease;
      cursor: pointer;
    }

    .search-result-card:hover {
      border-color: rgba(56, 189, 248, 0.9);
      background:
        radial-gradient(circle at top left, rgba(56, 189, 248, 0.14), rgba(15, 23, 42, 1));
      transform: translateY(-1px);
    }

    .tag-role {
      border-radius: 9999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.15rem 0.6rem;
      font-size: 0.72rem;
      color: #9ca3af;
      background: rgba(15, 23, 42, 0.98);
    }

    .fade-in {
      animation: fadeIn 0.25s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(4px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header-shine {
      position: relative;
      overflow: hidden;
    }

    .header-shine::after {
      content: "";
      position: absolute;
      inset: -200%;
      background:
        radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.16), transparent 55%),
        radial-gradient(circle at 90% 0, rgba(129, 140, 248, 0.18), transparent 55%);
      opacity: 0.9;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .ring-focus {
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.4);
    }

    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .btn-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 1.8rem;
      height: 1.8rem;
      border-radius: 9999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.98);
      color: #9ca3af;
      font-size: 0.9rem;
      cursor: pointer;
      transition:
        border-color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease,
        color 0.15s ease;
    }

    .btn-icon:hover {
      border-color: rgba(56, 189, 248, 0.9);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.22), rgba(15, 23, 42, 1));
      color: #e5e7eb;
      transform: translateY(-1px);
    }

    .btn-icon[aria-pressed="true"] {
      border-color: rgba(56, 189, 248, 0.95);
      background: linear-gradient(to bottom right, rgba(56, 189, 248, 0.4), rgba(15, 23, 42, 1));
      color: #ecfeff;
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.5),
        0 10px 30px rgba(8, 47, 73, 0.8);
    }

    .badge-soft {
      border-radius: 9999px;
      padding: 0.18rem 0.7rem;
      font-size: 0.72rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.98);
      color: #9ca3af;
    }

    .badge-soft-green {
      border-color: rgba(34, 197, 94, 0.6);
      background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.15), rgba(15, 23, 42, 0.98));
      color: #bbf7d0;
    }

    .badge-soft-blue {
      border-color: rgba(59, 130, 246, 0.6);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.18), rgba(15, 23, 42, 0.98));
      color: #bfdbfe;
    }

    .badge-soft-amber {
      border-color: rgba(245, 158, 11, 0.6);
      background: radial-gradient(circle at top left, rgba(245, 158, 11, 0.16), rgba(15, 23, 42, 0.98));
      color: #fef3c7;
    }

    .timeline-dot {
      width: 0.65rem;
      height: 0.65rem;
      border-radius: 9999px;
      background: radial-gradient(circle at center, #38bdf8, #0f172a);
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.45),
        0 0 18px rgba(56, 189, 248, 0.85);
    }

    .timeline-line {
      width: 2px;
      background: linear-gradient(to bottom, rgba(56, 189, 248, 0.3), transparent);
    }

    .nav-pill {
      border-radius: 9999px;
      border: 1px solid rgba(55, 65, 81, 0.85);
      padding: 0.25rem 0.8rem;
      font-size: 0.78rem;
      color: #9ca3af;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      background: rgba(15, 23, 42, 0.96);
      cursor: pointer;
      transition:
        border-color 0.15s ease,
        color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease;
    }

    .nav-pill:hover {
      border-color: rgba(59, 130, 246, 0.9);
      color: #e5e7eb;
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.24), rgba(15, 23, 42, 1));
      transform: translateY(-1px);
    }

    .nav-pill.active {
      border-color: rgba(56, 189, 248, 0.95);
      color: #ecfeff;
      background: linear-gradient(to right, rgba(56, 189, 248, 0.3), rgba(15, 23, 42, 1));
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.5),
        0 12px 35px rgba(8, 47, 73, 0.85);
    }

    .subtle-border {
      border: 1px solid rgba(31, 41, 55, 0.9);
    }

    .subtle-border-strong {
      border: 1px solid rgba(55, 65, 81, 0.95);
    }

    .pill-mini {
      border-radius: 9999px;
      padding: 0.15rem 0.5rem;
      font-size: 0.68rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.98);
      color: #9ca3af;
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
    }

    .pill-mini-dot {
      width: 0.4rem;
      height: 0.4rem;
      border-radius: 9999px;
      background: linear-gradient(135deg, #22c55e, #38bdf8);
    }

    .card-soft {
      border-radius: 1rem;
      border: 1px solid rgba(31, 41, 55, 0.98);
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.32), rgba(15, 23, 42, 0.99));
      box-shadow:
        0 18px 50px rgba(15, 23, 42, 0.96),
        0 0 0 1px rgba(30, 64, 175, 0.5);
    }

    .card-soft-muted {
      border-radius: 0.9rem;
      border: 1px solid rgba(31, 41, 55, 0.95);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 1), rgba(15, 23, 42, 0.98));
    }

    .badge-soft-cyan {
      border-radius: 9999px;
      padding: 0.16rem 0.7rem;
      font-size: 0.7rem;
      border: 1px solid rgba(34, 211, 238, 0.7);
      background: radial-gradient(circle at top left, rgba(34, 211, 238, 0.18), rgba(15, 23, 42, 0.98));
      color: #cffafe;
    }

    .skeleton {
      position: relative;
      overflow: hidden;
      background: rgba(15, 23, 42, 0.95);
    }

    .skeleton::after {
      content: "";
      position: absolute;
      inset: 0;
      transform: translateX(-100%);
      background: linear-gradient(
        90deg,
        transparent,
        rgba(148, 163, 184, 0.3),
        transparent
      );
      animation: skeleton 1.5s infinite;
    }

    @keyframes skeleton {
      100% {
        transform: translateX(100%);
      }
    }

    .chip-filter {
      border-radius: 9999px;
      padding: 0.25rem 0.8rem;
      border: 1px solid rgba(55, 65, 81, 0.85);
      font-size: 0.78rem;
      color: #9ca3af;
      background: rgba(15, 23, 42, 0.96);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      cursor: pointer;
      transition:
        border-color 0.15s ease,
        color 0.15s ease,
        background-color 0.15s ease,
        transform 0.1s ease;
    }

    .chip-filter:hover {
      border-color: rgba(56, 189, 248, 0.95);
      color: #ecfeff;
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.2), rgba(15, 23, 42, 1));
      transform: translateY(-1px);
    }

    .chip-filter[data-active="true"] {
      border-color: rgba(34, 197, 94, 0.9);
      color: #bbf7d0;
      background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.22), rgba(15, 23, 42, 1));
      box-shadow:
        0 0 0 1px rgba(34, 197, 94, 0.4),
        0 12px 30px rgba(6, 95, 70, 0.9);
    }

    .floating-badge {
      position: absolute;
      top: -0.35rem;
      right: -0.35rem;
      border-radius: 9999px;
      padding: 0.15rem 0.5rem;
      font-size: 0.7rem;
      border: 1px solid rgba(34, 197, 94, 0.9);
      background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.2), rgba(15, 23, 42, 1));
      color: #bbf7d0;
      box-shadow:
        0 0 0 1px rgba(34, 197, 94, 0.6),
        0 12px 30px rgba(6, 95, 70, 0.9);
    }

    .floating-badge-blue {
      border-color: rgba(59, 130, 246, 0.9);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.22), rgba(15, 23, 42, 1));
      color: #dbeafe;
      box-shadow:
        0 0 0 1px rgba(59, 130, 246, 0.7),
        0 12px 30px rgba(30, 64, 175, 0.95);
    }

    .floating-dot {
      position: absolute;
      top: 0.8rem;
      right: 0.9rem;
      width: 0.55rem;
      height: 0.55rem;
      border-radius: 9999px;
      background: radial-gradient(circle at center, #22c55e, #14532d);
      box-shadow:
        0 0 0 1px rgba(34, 197, 94, 0.5),
        0 0 16px rgba(34, 197, 94, 0.9);
    }
  </style>
</head>
<body class="scroll-smooth">
  <div class="min-h-screen flex flex-col items-center justify-start pt-8 pb-10 px-3 sm:px-4">
    <header class="w-full max-w-6xl mb-6 header-shine">
      <!-- ... (todo o header original aqui, mantido) ... -->
    </header>

    <main class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-[minmax(0,1.35fr)_minmax(0,1fr)] gap-5 lg:gap-6 items-start">
      <!-- ... (todo o layout principal, listas, etc., mantido) ... -->
    </main>
  </div>

  <script>
    const $ = (q) => document.querySelector(q);

    // ==== CONFIG API COMPARTILHADA ====
    const API_BASE = 'https://central-ajuda-api.vitoria-leite.workers.dev';

    const DB_KEY='or_help_guides_v4';
    const FAV_KEY='or_help_favs_v1';
    const SUB_KEY='or_help_subtitles_v1';
    const ABS_KEY='or_help_absences_v1';
    const ABS_ACTS_KEY='or_help_absences_acts_v1';

    async function apiPut(path, data) {
      try {
        await fetch(`${API_BASE}${path}`, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data),
        });
      } catch (e) {
        console.error('Erro ao enviar para API', e);
      }
    }

    async function apiBootstrapToLocal() {
      try {
        const res = await fetch(`${API_BASE}/bootstrap`);
        if (!res.ok) return;
        const data = await res.json();

        if (data.guides)   localStorage.setItem(DB_KEY, JSON.stringify(data.guides));
        if (data.favs)     localStorage.setItem(FAV_KEY, JSON.stringify(data.favs));
        if (data.subs)     localStorage.setItem(SUB_KEY, JSON.stringify(data.subs));
        if (data.abs)      localStorage.setItem(ABS_KEY, JSON.stringify(data.abs));
        if (data.absActs)  localStorage.setItem(ABS_ACTS_KEY, JSON.stringify(data.absActs));

        if (typeof renderGuides === 'function') renderGuides();
        if (typeof renderIndex === 'function') renderIndex();
        if (typeof renderFavs === 'function') renderFavs();
        if (typeof renderAbsences === 'function') renderAbsences();
      } catch (e) {
        console.error('Erro no bootstrap da API', e);
      }
    }

    const readDB  = () => JSON.parse(localStorage.getItem(DB_KEY)  || '[]');
    const readFav = () => JSON.parse(localStorage.getItem(FAV_KEY) || '{"topics":[],"guides":[]}');
    const readSubs= () => JSON.parse(localStorage.getItem(SUB_KEY) || '{}');
    const readAbs = () => JSON.parse(localStorage.getItem(ABS_KEY) || '[]');

    const writeDB = (a) => {
      localStorage.setItem(DB_KEY, JSON.stringify(a));
      apiPut('/guides', a);
    };
    const writeFav = (v) => {
      localStorage.setItem(FAV_KEY, JSON.stringify(v));
      apiPut('/favs', v);
    };
    const writeSubs = (v) => {
      localStorage.setItem(SUB_KEY, JSON.stringify(v));
      apiPut('/subs', v);
    };
    const writeAbs = (v) => {
      localStorage.setItem(ABS_KEY, JSON.stringify(v));
      apiPut('/abs', v);
    };
    const writeAbsActs = (v) => {
      localStorage.setItem(ABS_ACTS_KEY, JSON.stringify(v));
      apiPut('/absActs', v);
    };

    // --------------------------------------------------------------------
    // A PARTIR DAQUI continua TODO o restante do seu JS original:
    // - renderGuides
    // - renderIndex
    // - CRUD dos guias
    // - buscas, favoritos, ausências, etc.
    // Eu mantive tudo como estava no arquivo anterior.
    // --------------------------------------------------------------------

    /* TODO: aqui entra todo o JS que já existia no arquivo original,
       eu não removi nem alterei as outras funções além das de DB.
       (para não estourar a mensagem, não repito cada linha aqui —
       mas é exatamente o seu arquivo com esse bloco de banco alterado.) */

    // No final do script:
    apiBootstrapToLocal();
  </script>
</body>
</html>
